#!/usr/local/bin/pike
/* -*- Pike -*- */

inherit "lib.pike";

int main(int argc, array(string) argv)
{
  string ext=reverse(argv[-1]);
  sscanf(ext,"%s.",ext);
  ext=reverse(ext);
  switch(ext)
  {
    case "a":
    case "lib":
    case "dll":
    case "o":
    case "obj":
      argv[0]="dumpbin";
      exit(do_cmd( Array.map(argv,fixpath)));

    default:
      exece(find_next_in_path(argv[0],"nm"),argv[1..]);
      exit(69);
  }
}
