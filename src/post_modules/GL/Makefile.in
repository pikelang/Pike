@make_variables@
VPATH=@srcdir@
OBJS=top.o @AUTO_OBJS@
MODULE_LDFLAGS=@LDFLAGS@ @LIBS@
MODULE_CFLAGS=@X_CFLAGS@

@dynamic_module_makefile@

auto.c : $(SRCDIR)/auto.c.in $(SRCDIR)/features.pike $(SRCDIR)/constants.pike $(SRCDIR)/gen.pike
	$(RUNPIKE) $(SRCDIR)/gen.pike $(SRCDIR)/auto.c.in > auto.c.tmp
	mv -f auto.c.tmp auto.c

docs: $(SRCDIR)/autodoc.c

# Compatibility with stupid makes..
auto.o: auto.c

GLSL.o: $(SRCDIR)/GLSL.c

$(SRCDIR)/autodoc.c : $(SRCDIR)/autodoc.pike
	cd "$(SRCDIR)" && $(RUNPIKE) autodoc.pike

@dependencies@
